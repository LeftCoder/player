---
import Layout from '../layouts/Layout.astro';
import App from '../components/App';
import fs from 'node:fs/promises'
import { fileURLToPath } from 'url';
import path, { dirname } from 'path'

const __filename = fileURLToPath(import.meta.url);
const dir = path.join(dirname(__filename), '../../videos')
const fileList = await fs.readdir(dir)
---

<Layout title="Welcome to Astro.">
	<App client:only files={fileList} />
</Layout>