---
import Layout from '../layouts/Layout.astro';
import App from '../components/App';
import fs from 'node:fs/promises'
import { fileURLToPath } from 'url';
import path, { dirname } from 'path'

const __filename = fileURLToPath(import.meta.url);
const dir = path.join(dirname(__filename), import.meta.env.VIDEO_PATH)
const fileList = await fs.readdir(dir)
---

<Layout>
	<App client:only files={fileList} />
</Layout>